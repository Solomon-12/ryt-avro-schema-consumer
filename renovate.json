{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "regexManagers": [
    {
      "fileMatch": [
        "^pom\\.xml$"
      ],
      "matchStrings": [
        "<sourceDirectory>.+?<schemas>\\/(?<depName>.+?)\\/v(?<currentValue>\\d+)<\\/sourceDirectory>"
      ],
      "datasourceTemplate": "kafka-schema-versions",
      "versioningTemplate": "regex:^v(?<major>\\d+)(?<minor>\\.\\d+)?(?<patch>\\.\\d+)?$"
    }
  ],
  "customDatasources": {
    "name": "kafka-schema-versions",
    "defaultUrl": "https://raw.githubusercontent.com/rytbank/schemas/main/kafka-apis-manifest.yaml",
    "extractVersion": "const yaml = require('js-yaml');const doc = yaml.load(content);const dep = doc['kafka-apis'].find(item => item.name === depName);if (!dep) { return null; }const versions = dep.versions.map(v => parseInt(v.slice(1)));const latestVersion = Math.max(...versions);return `v${latestVersion}`;"
  }
}
